---
export interface Props {
  date: Date;
}

const { date, utc = false, omitYear = false } = Astro.props;
const yyyy = date.getFullYear();
const mm = String(date.getMonth() + 1).padStart(2, '0');
const dd = String(date.getDate()).padStart(2, '0');
const dateSingapore = new Date(`${yyyy}-${mm}-${dd}T00:00:00+08:00`);
---

<time datetime={dateSingapore.toISOString()}>
  {
    !omitYear
    &&
    dateSingapore.toLocaleDateString('en-us', {
      year: 'numeric',
      month: 'long',
      day: 'numeric',
      timeZone: 'Asia/Singapore',
    })
    ||
    dateSingapore.toLocaleDateString('en-us', {
      month: 'long',
      day: 'numeric',
      timeZone: 'Asia/Singapore',
    })
  }
</time>
